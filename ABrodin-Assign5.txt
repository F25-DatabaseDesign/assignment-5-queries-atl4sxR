Atlas Brodin
Database Design and Implementation
Prof. Mark Ramos
10 November 2025
Assignment 5 - Queries
1. How many containers of antibiotics are currently available?
Query:
SELECT quantityOnHand
FROM item
WHERE itemDescription = 'bottle of antibiotics';
Answer: 100


2. Which volunteer(s), if any, have phone numbers that do not start with the number 2 and whose last name is not Jones. Query should retrieve names rather than ids.
        Query:
                SELECT volunteerName
FROM volunteer
WHERE (volunteerTelephone NOT LIKE '2%' OR volunteerTelephone IS NULL)
AND volunteerName NOT LIKE '%Jones';
Answer: Harry Smith, Joan Simmons, Gene Lewin


3. Which volunteer(s) are working on transporting tasks? Query should retrieve names rather than ids.
Query:
        SELECT DISTINCT v.volunteerName
FROM volunteer AS v
JOIN assignment AS a ON v.volunteerId = a.volunteerId 
JOIN task AS t ON a.taskCode = t.taskCode
JOIN task_type AS tt ON t.taskTypeId = tt.taskTypeId
WHERE tt.taskTypeName = 'transporting';
Answer: George Brewer


4. Which task(s) have yet to be assigned to any volunteers? Provide task descriptions, not the codes.
Query: 
        SELECT t.taskDescription
FROM task AS t
LEFT JOIN assignment AS a ON t.taskCode = a.taskCode
WHERE a.taskCode IS NULL;
Answer: Prepare 100 food packages, take packages to the warehouse
________________




5. Which type(s) of package(s) contain some kind of bottle?
        Query:
SELECT DISTINCT pt.packageTypeName
FROM package_type AS pt
JOIN package AS p ON pt.packageTypeId = p.packageTypeId
JOIN package_contents AS pc ON p.packageId = pc.packageId
JOIN item AS i ON pc.itemId = i.itemId
WHERE i.itemDescription LIKE '%bottle%';
        Answer: food and water


6. Which items, if any, are not in any packages? Answer should be item descriptions.
        Query:
SELECT i.itemDescription
FROM item AS i
LEFT JOIN package_contents AS pc ON i.itemId = pc.itemId
WHERE pc.packageId IS NULL;
        Answer: bottle of antibiotics,'bottle of aspirin, flashlight, pack of bandages


7. Which task(s) are assigned to volunteer(s) that live in New Jersey (NJ)? Answer should have the task description and not the task ids.
        Query:
SELECT DISTINCT t.taskDescription
FROM task AS t
JOIN assignment AS a ON t.taskCode = a.taskCode
JOIN volunteer AS v ON a.volunteerId = v.volunteerId
WHERE v.volunteerAddress LIKE '%NJ%';
Answer: Prepare 20 children’s packages, prepare 100 water packages, prepare 5,000 packages


8. Which volunteers began their assignments in the first half of 2021? Answer should have the volunteer names and not their ids.
Query:
SELECT DISTINCT v.volunteerName
FROM volunteer AS v
JOIN assignment AS a ON v.volunteerId = a.volunteerId
WHERE a.startDateTime BETWEEN '2021-01-01' AND '2021-06-30';
Answer: Joan Simmons, Chris Jordan
________________




9. Which volunteers have been assigned to tasks that include packing spam? Answer should have the volunteer names and not their ids.
Query:
SELECT DISTINCT v.volunteerName
FROM volunteer AS v
JOIN assignment AS a ON v.volunteerId = a.volunteerId
JOIN package AS p ON a.taskCode = p.taskCode
JOIN package_contents AS pc ON p.packageId = pc.packageId
JOIN item AS i ON pc.itemId = i.itemId
WHERE i.itemDescription LIKE '%spam%';
Answer: Julie White, Gerry Banks


10. Which item(s), if any, have a total value of exactly $100 in one package? Answer should be in item descriptions.
Query:
SELECT DISTINCT i.itemDescription
FROM item AS i
JOIN package_contents AS pc ON i.itemId = pc.itemId
WHERE i.itemValue * pc.itemQuantity = 100;
Answer: Baby formula


11. How many volunteers are assigned to tasks with each different status. The answer should show each different status and the number of volunteers sorted from highest to lowest.
Query:
SELECT ts.taskStatusName, COUNT(DISTINCT a.volunteerId) AS numVolunteers
FROM task_status AS ts
JOIN task AS t ON ts.taskStatusId = t.taskStatusId
JOIN assignment AS a ON t.taskCode = a.taskCode
GROUP BY ts.taskStatusName
ORDER BY numVolunteers DESC;
Answer: 
statusName, numVolunteers
Open | 4
Closed | 3
        Ongoing | 2
        Pending | 1
________________




12. Which task creates the heaviest set of packages and what is the weight? Show both the taskCode and the weight. You should be able to do this without using any subqueries.
Query:
        SELECT p.taskCode, SUM(p.packageWeight) AS totalWeight
FROM package AS p
GROUP BY p.taskCode
ORDER BY totalWeight DESC
LIMIT 1;
Answer: 
taskCode, weight
106, 308


13. How many tasks are there that do not have a type of “packing”?
Query:
SELECT COUNT(*) AS numTasks
FROM task AS t
JOIN task_type AS tt ON t.taskTypeId = tt.taskTypeId
WHERE tt.taskTypeName <> 'packing';
Answer: 3


14. Of those items that have been packed, which item (or items) were touched by fewer than 3 volunteers? Answer should be item descriptions.
Query:
SELECT i.itemDescription
FROM item AS i
JOIN package_contents AS pc ON i.itemId = pc.itemId
JOIN package AS p ON pc.packageId = p.packageId
JOIN assignment AS a ON p.taskCode = a.taskCode
GROUP BY i.itemId, i.itemDescription
HAVING COUNT(DISTINCT a.volunteerId) < 3;
Answer: can of spam, dried fruit, tent,  men’s coat, women’s coat, sleeping bag 
________________




15. Which packages have a total value of more than 100? Show the packageIds and their value sorted from lowest to highest.
Query:
SELECT pc.packageId, SUM(i.itemValue * pc.itemQuantity) AS totalValue
FROM package_contents AS pc
JOIN item AS i ON pc.itemId = i.itemId
GROUP BY pc.packageId
HAVING totalValue > 100
ORDER BY totalValue ASC;
Answer:
packageId, totalValue
6, 150
2, 151
4, 350
10, 750
5, 1420